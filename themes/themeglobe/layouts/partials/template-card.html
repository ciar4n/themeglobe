

<div
  id="{{ .theme.Params.Title | urlize }}"
  class="grid-item card {{ .classes }} {{ range .theme.Params.provider }}{{ . | urlize }} {{ end }}{{ range .theme.Params.archetype }}{{ . | urlize }} {{end}}{{ .theme.Params.theme_framework | urlize }}"
  data-submitted="{{ .theme.Lastmod.Format "Jan 2, 2006" }}"
  data-name="{{ .theme.Params.title }}"
  data-performance="{{ .performance }}"
  data-bestPractices="{{ .bestPractices }}"
  data-accessibility="{{ .accessibility }}"
  data-seo="{{ .seo }}"
>

  <div class="card-details">
    <div class="card-title">
      <h2>{{ .theme.Params.title }}</h2>
    </div>

    <div class="card-buttons">
        <a class="button card-button" href="{{ .theme.Permalink }}" rel="noopener nofollow">Details</a>
        <a class="button card-button" href="{{ .theme.Params.demo }}" target="_blank" rel="noopener nofollow">Demo</a>
      </div>
    
  </div>

  <div class="card-image">
    <a href="{{ .theme.Permalink }}" title="{{ .theme.Params.title }}">
      {{ $template_key := .theme.Page.File.BaseFileName | urlize }}
      {{ $imagePath := print "images/theme/thumbnail/" $template_key ".jpg" }}
      <img src="{{ $imagePath | relURL }}" alt="{{ .Title }} screenshot" loading=lazy width="280" height="210"/>
    </a>

    <div class="card-cms">
      {{ if in .theme.Params.cms "Joomla" }}
        <a href="/cms/joomla">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="1em"><path fill="currentColor" d="M.6 92.1C.6 58.8 27.4 32 60.4 32c30 0 54.5 21.9 59.2 50.2 32.6-7.6 67.1.6 96.5 30l-44.3 44.3c-20.5-20.5-42.6-16.3-55.4-3.5-14.3 14.3-14.3 37.9 0 52.2l99.5 99.5-44 44.3c-87.7-87.2-49.7-49.7-99.8-99.7-26.8-26.5-35-64.8-24.8-98.9C20.4 144.6.6 120.7.6 92.1zm129.5 116.4l44.3 44.3c10-10 89.7-89.7 99.7-99.8 14.3-14.3 37.6-14.3 51.9 0 12.8 12.8 17 35-3.5 55.4l44 44.3c31.2-31.2 38.5-67.6 28.9-101.2 29.2-4.1 51.9-29.2 51.9-59.5 0-33.2-26.8-60.1-59.8-60.1-30.3 0-55.4 22.5-59.5 51.6-33.8-9.9-71.7-1.5-98.3 25.1-18.3 19.1-71.1 71.5-99.6 99.9zm266.3 152.2c8.2-32.7-.9-68.5-26.3-93.9-11.8-12.2 5 4.7-99.5-99.7l-44.3 44.3 99.7 99.7c14.3 14.3 14.3 37.6 0 51.9-12.8 12.8-35 17-55.4-3.5l-44 44.3c27.6 30.2 68 38.8 102.7 28 5.5 27.4 29.7 48.1 58.9 48.1 33 0 59.8-26.8 59.8-60.1 0-30.2-22.5-55-51.6-59.1zm-84.3-53.1l-44-44.3c-87 86.4-50.4 50.4-99.7 99.8-14.3 14.3-37.6 14.3-51.9 0-13.1-13.4-16.9-35.3 3.2-55.4l-44-44.3c-30.2 30.2-38 65.2-29.5 98.3-26.7 6-46.2 29.9-46.2 58.2C0 453.2 26.8 480 59.8 480c28.6 0 52.5-19.8 58.6-46.7 32.7 8.2 68.5-.6 94.2-26 32.1-32 12.2-12.4 99.5-99.7z"></path></svg>
        </a>
      {{ end }}
      {{ if in .theme.Params.cms "Wordpress" }}
        <a href="/cms/wordpress">
          <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="1em"><path fill="currentColor" d="M256 8C119.3 8 8 119.2 8 256c0 136.7 111.3 248 248 248s248-111.3 248-248C504 119.2 392.7 8 256 8zM33 256c0-32.3 6.9-63 19.3-90.7l106.4 291.4C84.3 420.5 33 344.2 33 256zm223 223c-21.9 0-43-3.2-63-9.1l66.9-194.4 68.5 187.8c.5 1.1 1 2.1 1.6 3.1-23.1 8.1-48 12.6-74 12.6zm30.7-327.5c13.4-.7 25.5-2.1 25.5-2.1 12-1.4 10.6-19.1-1.4-18.4 0 0-36.1 2.8-59.4 2.8-21.9 0-58.7-2.8-58.7-2.8-12-.7-13.4 17.7-1.4 18.4 0 0 11.4 1.4 23.4 2.1l34.7 95.2L200.6 393l-81.2-241.5c13.4-.7 25.5-2.1 25.5-2.1 12-1.4 10.6-19.1-1.4-18.4 0 0-36.1 2.8-59.4 2.8-4.2 0-9.1-.1-14.4-.3C109.6 73 178.1 33 256 33c58 0 110.9 22.2 150.6 58.5-1-.1-1.9-.2-2.9-.2-21.9 0-37.4 19.1-37.4 39.6 0 18.4 10.6 33.9 21.9 52.3 8.5 14.8 18.4 33.9 18.4 61.5 0 19.1-7.3 41.2-17 72.1l-22.2 74.3-80.7-239.6zm81.4 297.2l68.1-196.9c12.7-31.8 17-57.2 17-79.9 0-8.2-.5-15.8-1.5-22.9 17.4 31.8 27.3 68.2 27.3 107 0 82.3-44.6 154.1-110.9 192.7z"></path></svg>
        </a>
      {{ end }}
    </div>

  </div>

  <div class="card-footer">

    <div class="card-provider">
      {{ range .theme.Params.provider }}{{ . }}{{ end }}
    </div>
    
    <div class="card-lighthouse">

      {{ $scratchPerformance := newScratch }}
      {{ $scratchPerformance.Add "color" "red" }}
      {{ if gt .performance 50 }}
        {{ $scratchPerformance.Set "color" "orange" }}
      {{ end }}
      {{ if gt .performance 90 }}
        {{ $scratchPerformance.Set "color" "green" }}
      {{ end }}
      <a href="{{ .theme.Permalink }}" class="card-lighthouse-item card-lighthouse-item-perf card-lighthouse-item-{{ $scratchPerformance.Get "color" }}" data-tooltip="Performance: {{ .performance }}"><span></span></a>

      {{ $scratchA11y := newScratch }}
      {{ $scratchA11y.Add "color" "red" }}
      {{ if gt .accessibility 50 }}
        {{ $scratchA11y.Set "color" "orange" }}
      {{ end }}
      {{ if gt .accessibility 90 }}
        {{ $scratchA11y.Set "color" "green" }}
      {{ end }}
      <a href="{{ .theme.Permalink }}" class="card-lighthouse-item card-lighthouse-item-a11y card-lighthouse-item-{{ $scratchA11y.Get "color" }}" data-tooltip="Accessibility: {{ .accessibility }}"><span></span></a>

      {{ $scratchBest := newScratch }}
      {{ $scratchBest.Add "color" "red" }}
      {{ if gt .bestPractices 50 }}
        {{ $scratchBest.Set "color" "orange" }}
      {{ end }}
      {{ if gt .bestPractices 90 }}
        {{ $scratchBest.Set "color" "green" }}
      {{ end }}
      <a href="{{ .theme.Permalink }}" class="card-lighthouse-item card-lighthouse-item-bp card-lighthouse-item-{{ $scratchBest.Get "color" }}" data-tooltip="Best Practices: {{ .bestPractices }}"><span></span></a>

      {{ $scratchSEO := newScratch }}
      {{ $scratchSEO.Add "color" "red" }}
      {{ if gt .seo 50 }}
        {{ $scratchSEO.Set "color" "orange" }}
      {{ end }}
      {{ if gt .seo 90 }}
        {{ $scratchSEO.Set "color" "green" }}
      {{ end }}
      <a href="{{ .theme.Permalink }}" class="card-lighthouse-item card-lighthouse-item-seo card-lighthouse-item-{{ $scratchSEO.Get "color" }}" data-tooltip="SEO: {{ .seo }}"><span></span></a>

    </div>
  </div>

</div>