{{ define "header_css" }}{{ end }}
{{ define "body_classes" }}page-default-single{{ end }}

{{ define "main" }}

{{ $template_key := .File.BaseFileName | urlize }}
{{ $lighthouse := index .Site.Data.themes $template_key }}

<div class="main">
  
    <div class="single">
      <div class="single-top">
         <div class="single-preview">
          <div class="single-image">
            {{ $template_key := .File.BaseFileName | urlize }}
            {{ $imagePath := print "images/theme/full/" $template_key ".jpg" }}
            <img loading="lazy" src="{{ $imagePath | relURL }}" alt="{{ .Title }} screenshot" />
          </div>
          <div class="single-bottom">
        <div class="content">
          {{ .Content }}
        </div>
      </div>
        </div>
        <div class="single-info">
          <div class="single-heading">
            <div>
              <h1>{{ .Title }}</h1>
              <span class="single-by-provider">
                  by 
                {{ if .Params.provider }}
                  {{- range .Params.provider }}
                    {{- with $.Site.GetPage "taxonomyTerm" (printf "provider/%s" (urlize .)) }}
                      {{ partial "link-provider.html" (dict "name" .Page.Title "link" .Page.Permalink) }}
                    {{ end }}
                  {{ end }}
                {{ end }}
              </span>
            </div>
            <p>
            </p>
            <div class="single-buttons">
              <a class="button" href="{{ .Params.details }}" target="_blank" rel="nofollow noopener">Template Details</a>
              <a class="button" href="{{ .Params.demo }}" target="_blank" rel="nofollow noopener">Live Demo</a>
              {{- range .Params.provider }}
                {{- with $.Site.GetPage "taxonomyTerm" (printf "provider/%s" (urlize .)) }}
                  {{ partial "button.html" (dict "name" .Page.Title "link" .Page.Params.home_url "target" "_blank") }}
                {{ end }}
              {{ end }}
            </div>
            <p class="theme-detail-summary">{{ .Summary }}</p>
          </div>
          

          <div class="audits">
            <div class="payment-options single-card">
              <div class="payment-options-header single-card-header">Purchase Options</div>
              <div class="payment-options-item">
                
              </div>
            </div>

            <div class="lighthouse single-card">
              <div class="lighthouse-header single-card-header">Demo Lighthouse Audit</div>

              <div class="lighthouse-items">
    
                {{ .Scratch.Set "color" "red" }}
                {{ if gt $lighthouse.performance 50 }}
                  {{ .Scratch.Set "color" "orange" }}
                {{ end }}
                {{ if gt $lighthouse.performance 85 }}
                  {{ .Scratch.Set "color" "green" }}
                {{ end }}
                <div class="lighthouse-item lighthouse-{{ .Scratch.Get "color" }}">
                    <h4 class="lighthouse-item-title">Performance</h4>
                    <svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                      <circle class="lighthouse-item-circle-bg" stroke-width="0" cx="50%" cy="50%" r="17" style="stroke: white;"></circle>
                      <circle class="lighthouse-item-highlight" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="{{ $lighthouse.performance }},100" fill="none" cx="50%" cy="50%" r="15.9" transition-delay="600" style="stroke: ;"></circle>
                      <g class="lighthouse-item-value" transition-delay="600">
                        <text class="circle-chart__percent" x="17" y="22" text-anchor="middle" font-size="14">{{ $lighthouse.performance }}</text>
                      </g>
                    </svg>                  
                </div>

                {{ .Scratch.Set "color" "red" }}
                {{ if gt $lighthouse.accessibility 50 }}
                  {{ .Scratch.Set "color" "orange" }}
                {{ end }}
                {{ if gt $lighthouse.accessibility 85 }}
                  {{ .Scratch.Set "color" "green" }}
                {{ end }}
                <div class="lighthouse-item lighthouse-{{ .Scratch.Get "color" }}">
                    <h4 class="lighthouse-item-title">Accessibility</h4>
                    <svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                      <circle class="lighthouse-item-circle-bg" stroke-width="0" cx="50%" cy="50%" r="17" style="stroke: white;"></circle>
                      <circle class="lighthouse-item-highlight" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="{{ $lighthouse.accessibility }},100" fill="none" cx="50%" cy="50%" r="15.9" transition-delay="600" style="stroke: ;"></circle>
                      <g class="lighthouse-item-value" transition-delay="600">
                        <text class="circle-chart__percent" x="17" y="22" text-anchor="middle" font-size="14">{{ $lighthouse.accessibility }}</text>
                      </g>
                    </svg>
                </div>
                
                {{ .Scratch.Set "color" "red" }}
                {{ if gt $lighthouse.bestPractices 50 }}
                  {{ .Scratch.Set "color" "orange" }}
                {{ end }}
                {{ if gt $lighthouse.bestPractices 85 }}
                  {{ .Scratch.Set "color" "green" }}
                {{ end }}
                <div class="lighthouse-item lighthouse-{{ .Scratch.Get "color" }}">
                    <h4 class="lighthouse-item-title">Best Practices</h4>
                    <svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                      <circle class="lighthouse-item-circle-bg" stroke-width="0" cx="50%" cy="50%" r="17" style="stroke: white;"></circle>
                      <circle class="lighthouse-item-highlight" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="{{ $lighthouse.bestPractices }},100" fill="none" cx="50%" cy="50%" r="15.9" transition-delay="600" style="stroke: ;"></circle>
                      <g class="lighthouse-item-value" transition-delay="600">
                        <text class="circle-chart__percent" x="17" y="22" text-anchor="middle" font-size="14">{{ $lighthouse.bestPractices }}</text>
                      </g>
                    </svg>
                </div>

                {{ .Scratch.Set "color" "red" }}
                {{ if gt $lighthouse.seo 50 }}
                  {{ .Scratch.Set "color" "orange" }}
                {{ end }}
                {{ if gt $lighthouse.seo 85 }}
                  {{ .Scratch.Set "color" "green" }}
                {{ end }}
                <div class="lighthouse-item lighthouse-{{ .Scratch.Get "color" }}">
                    <h4 class="lighthouse-item-title">SEO</h4>
                    <svg viewBox="0 0 34 34" xmlns="http://www.w3.org/2000/svg">
                      <circle class="lighthouse-item-circle-bg" stroke-width="0" cx="50%" cy="50%" r="17" style="stroke: white;"></circle>
                      <circle class="lighthouse-item-highlight" stroke-width="2.5" stroke-linecap="round" stroke-dasharray="{{ $lighthouse.seo }},100" fill="none" cx="50%" cy="50%" r="15.9" transition-delay="600" style="stroke: ;"></circle>
                      <g class="lighthouse-item-value" transition-delay="600">
                        <text class="circle-chart__percent" x="17" y="22" text-anchor="middle" font-size="14">{{ $lighthouse.seo }}</text>
                      </g>
                    </svg>
                </div>
              </div>
            </div>

            <div class=" lh-score__label">
                <div class="lh-score-card__legend">
                  <span>Score scale:</span>
                  <span class="lh-score-card__range lh-score--fail" data-first="">
                    0-49
                  </span>
                  <span class="lh-score-card__range lh-score--average">50-84</span>
                  <span class="lh-score-card__range lh-score--pass">85-100</span>
                </div>
              </div>

            <div class="carbon single-card">
              <div class="carbon-header single-card-header">Demo Carbon Audit</div>
              <div class="carbon-item">
                <h3>
                  According to <a href="https://www.websitecarbon.com/" target="_blank">websitecarbon.com</a>, <strong>{{ $lighthouse.carbon}}g</strong> of CO2 is produced every time someone visits the landing page of this template <a href="https://www.websitecarbon.com/how-does-it-work/">[Learn More]</a>
                </h3>
              </div>
            </div>
          </div>

        </div>
      </div>
      
    </div>


</div>

{{ end }}
